(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-tian-article-admin-pages-opendb-news-articles-edit"],{"002c":function(t,e,a){"use strict";a.r(e);var i=a("458f"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"02e6":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 水平间距 */\r\n/* 水平间距 */\r\n/* 行为相关颜色 */\r\n/* 兼容 uni-ui 相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.cloud-image[data-v-4e784e7f]{width:100%;overflow:auto}.image[data-v-4e784e7f]{width:%?200?%;height:%?200?%;border-radius:%?10?%}.scroll-view_H[data-v-4e784e7f]{white-space:nowrap;flex-wrap:wrap;width:100%}.scroll-view-item_H[data-v-4e784e7f]{display:inline-block;width:%?200?%;height:%?200?%;text-align:center;margin-right:%?16?%;position:relative;border:%?1?% solid #ececec;border-radius:%?10?%;margin-bottom:%?12?%}.scroll-view-item_H .image-delete[data-v-4e784e7f]{position:absolute;right:%?0?%;top:%?0?%;line-height:1;padding:%?10?%;background:#fff;border-radius:0 %?10?% 0 10px}.wrap-imgs[data-v-4e784e7f]{display:flex;flex-wrap:wrap}.content-image-icon[data-v-4e784e7f]{line-height:%?200?%}.scroll-view_H2[data-v-4e784e7f]{display:flex;align-items:center}.result[data-v-4e784e7f]{text-align:right}.text-gray[data-v-4e784e7f]{color:#b4b4b4}',""]),t.exports=e},"0338":function(t,e,a){var i=a("4fb2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("5be6348a",i,!0,{sourceMap:!1,shadowMode:!1})},"0645":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={uniIcons:a("df74").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"cloud-image"},[a("v-uni-view",{staticClass:"cloud-image__content"},[1==t.imageNumber?[a("v-uni-view",{staticClass:"flex justify-between"},[a("v-uni-text",{staticClass:"text-black"},[t._v(t._s(t.title))]),a("v-uni-text",{staticClass:"text-sm margin-left-sm text-gray"},[t._v(t._s(t.tips))])],1),a("v-uni-view",{},[t.val?a("v-uni-image",{staticClass:"image",style:t.imageSizeStyle,attrs:{src:t.val,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload(0)}}}):t._e(),t.isShowIcon?a("uni-icons",{staticClass:"content-image-icon",attrs:{type:t.suffixIcon,size:t.iconSize,color:"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload()}}}):t.disabled?t._e():a("uni-icons",{staticClass:"image-delete",attrs:{type:"trash",size:"20",color:"#ff0000"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.del(0)}}})],1)]:[a("v-uni-view",{staticClass:"flex justify-between"},[a("v-uni-view",{},[a("v-uni-text",{staticClass:"text-black"},[t._v(t._s(t.title))]),a("v-uni-text",{staticClass:"text-sm margin-left-sm text-gray"},[t._v(t._s(t.tips))])],1),t.disabled?t._e():a("v-uni-text",[t._v(t._s(t.srcList.length)+"/"+t._s(t.imageNumber))])],1),t.isWrap?a("v-uni-view",{staticClass:"wrap-imgs"},[t._l(t.srcList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"scroll-view-item_H"},[a("v-uni-image",{staticClass:"image",style:t.imageSizeStyle,attrs:{src:e,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage(i)}}}),t.disabled?t._e():a("uni-icons",{staticClass:"image-delete",attrs:{type:"trash",size:"20",color:"#ff0000"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.del(i)}}})],1)})),t.isShowIcon?a("uni-icons",{staticClass:"scroll-view-item_H content-image-icon",attrs:{type:t.suffixIcon,size:t.iconSize,color:"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload()}}}):t._e()],2):a("v-uni-scroll-view",{staticClass:"scroll-view_H",attrs:{"scroll-x":"true"}},[a("v-uni-view",{staticClass:"scroll-view_H2"},[t._l(t.srcList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"scroll-view-item_H"},[a("v-uni-image",{staticClass:"image",style:t.imageSizeStyle,attrs:{src:e,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage(i)}}}),t.disabled?t._e():a("uni-icons",{staticClass:"image-delete",attrs:{type:"trash",size:"20",color:"#ff0000"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.del(i)}}})],1)})),t.isShowIcon?a("uni-icons",{staticClass:"scroll-view-item_H content-image-icon",attrs:{type:t.suffixIcon,size:t.iconSize,color:"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload()}}}):t._e()],2)],1)]],2)],1)},s=[]},"0753":function(t,e,a){"use strict";(function(t){a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),s=i(a("1da1"));a("a9e3"),a("ac1f"),a("00b4"),a("466d"),a("c975"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("5319"),a("fb6a"),a("2ca0"),a("159b");var r=i(a("f0c1")),o=i(a("ba18")),l=i(a("f460")),c={name:"Tinymce",props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{loaded:!1,hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;(0,l.default)("https://cqsort.com/js/tinymce/tinymce.min.js",(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#".concat(this.tinymceId),images_upload_handler:function(){var e=(0,s.default)((0,n.default)().mark((function e(a,i,s,r){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.upload2cloud(a,i,s,r));case 1:case"end":return e.stop()}}),e)})));return function(t,a,i,n){return e.apply(this,arguments)}}(),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:o.default,menubar:this.menubar,plugins:r.default,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(a){a.setContent(e.value||""),setTimeout((function(){t.loaded=!0}),100),e.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",a.getContent())})),a.on("paste",(function(e){t.onPaste(e)}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))}})},onPaste:function(t,e,a){var i=this;return(0,s.default)((0,n.default)().mark((function e(){var a,s,r,o,l,c,u,d,f;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=(t.clipboardData||window.clipboardData).getData("text/html"),a&&(s=/<img.*?(?:>|\/>)/gi,r=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,o=str.match(s),o&&o.length>0))for(l=0;l<o.length;l++)c=o[l].match(r),c&&c[1];for(u=(t.clipboardData||window.clipboardData).items,d=u.length,f=0;f<d;f++)"file"==u[f].kind&&-1!=u[f].type.indexOf("image")&&function(){t.preventDefault();var e=u[f].getAsFile(),a={blob:function(){return e},blobUri:function(){return URL.createObjectURL(e)},name:e.name?e.name.replace(/\.[^\.]+$/,""):null};i.upload2cloud(a,(function(t){tinymce.execCommand("mceReplaceContent",!1,'<img class="wscnph" src="'.concat(t,'" >'))}),(function(t){uni.showToast({icon:"none",title:t})}),(function(t){t<100?uni.showLoading({title:"正在上传"}):uni.hideLoading()}))}();case 5:case"end":return e.stop()}}),e)})))()},upload2cloud:function(e,a,i,r){return(0,s.default)((0,n.default)().mark((function s(){var o,l,c,u;return(0,n.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r(0),o=+new Date+("000000"+Math.floor(999999*Math.random())).slice(-6),o+="image/jpeg"===e.blob().type?".jpg":".png",n.next=5,t.uploadFile({filePath:e.blobUri(),cloudPath:o,onUploadProgress:function(t){r(Math.round(100*t.loaded/t.total))}});case 5:if(l=n.sent,!l.fileID.startsWith("http")){n.next=10;break}return a(l.fileID),n.abrupt("return");case 10:return n.next=12,t.getTempFileURL({fileList:[l.fileID]});case 12:c=n.sent,u=c.fileList[0],"SUCCESS"===u.code?a(u.download_url):i("上传失败");case 15:case"end":return n.stop()}}),s)})))()},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}};e.default=c}).call(this,a("a9ff")["default"])},"085f":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={uniForms:a("f6fa").default,uniLoadMore:a("6afa").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-data-checklist"},[a("uni-forms",{ref:"form"},[a("v-uni-view",{staticClass:"uni-easyinput",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.activeChange(!0)}}},[a("v-uni-view",{staticClass:"uni-easyinput__content is-input-border",staticStyle:{"padding-left":"20rpx"}},[t.result?a("v-uni-text",[t._v(t._s(t.result))]):a("v-uni-text",[t._v(t._s(t.placeholder))])],1)],1)],1),t.active?a("v-uni-view",{staticClass:"uni-datetime-picker-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.activeChange(!1)}}}):t._e(),t.active?[t.loading?[a("v-uni-view",{staticClass:"uni-data-loading"},[a("uni-load-more",{attrs:{status:"loading",iconType:"snow",iconSize:18,"content-text":t.contentText}})],1)]:[a("v-uni-scroll-view",{staticClass:"more-list",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}},[a("v-uni-view",[t.multiple?a("v-uni-checkbox-group",{staticClass:"checklist-group",class:{"is-list":"list"===t.mode,"is-wrap":t.wrap},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.chagne.apply(void 0,arguments)}}},[t._l(t.dataList,(function(e,i){return a("v-uni-label",{key:i,staticClass:"checklist-box",class:e.labelClass,style:[e.styleBackgroud]},[a("v-uni-checkbox",{staticClass:"hidden",attrs:{hidden:!0,disabled:!!e.disabled,value:e.value+"",checked:e.selected}}),"tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon?a("v-uni-view",{staticClass:"checkbox__inner",class:e.checkboxBgClass,style:[e.styleIcon]},[a("v-uni-view",{staticClass:"checkbox__inner-icon",class:e.checkboxClass})],1):t._e(),a("v-uni-view",{staticClass:"checklist-content",class:{"list-content":"list"===t.mode&&"left"===t.icon}},[a("v-uni-text",{staticClass:"checklist-text",class:e.textClass,style:[e.styleIconText]},[t._v(t._s(e.text))]),"list"===t.mode&&"right"===t.icon?a("v-uni-view",{staticClass:"checkobx__list",class:e.listClass,style:[e.styleBackgroud]}):t._e()],1)],1)})),t.other?a("v-uni-view",{},[a("v-uni-view",{staticClass:"uni-easyinput"},[a("v-uni-view",{staticClass:"uni-easyinput__content is-input-border"},[a("v-uni-input",{staticClass:"uni-easyinput__content-input",staticStyle:{"padding-left":"10px"},attrs:{type:"text",placeholder:t.otherPlaceholder},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOther.apply(void 0,arguments)}},model:{value:t.otherText,callback:function(e){t.otherText=e},expression:"otherText"}})],1)],1)],1):t._e()],2):a("v-uni-radio-group",{staticClass:"checklist-group",class:{"is-list":"list"===t.mode,"is-wrap":t.wrap},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.chagne.apply(void 0,arguments)}}},[t._l(t.dataList,(function(e,i){return a("v-uni-label",{key:i,staticClass:"checklist-box",class:e.labelClass,style:[e.styleBackgroud]},[a("v-uni-radio",{attrs:{hidden:!0,disabled:e.disabled,value:e.value+"",checked:e.selected}}),"tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon?a("v-uni-view",{staticClass:"radio__inner",class:e.checkboxBgClass,style:[e.styleBackgroud]},[a("v-uni-view",{staticClass:"radio__inner-icon",class:e.checkboxClass,style:[e.styleIcon]})],1):t._e(),a("v-uni-view",{staticClass:"checklist-content",class:{"list-content":"list"===t.mode&&"left"===t.icon}},[a("v-uni-text",{staticClass:"checklist-text",class:e.textClass,style:[e.styleIconText]},[t._v(t._s(e.text))]),"list"===t.mode&&"right"===t.icon?a("v-uni-view",{staticClass:"checkobx__list",class:e.listClass,style:[e.styleRightIcon]}):t._e()],1)],1)})),t.other?a("v-uni-view",{},[a("v-uni-view",{staticClass:"uni-easyinput"},[a("v-uni-view",{staticClass:"uni-easyinput__content is-input-border"},[a("v-uni-input",{staticClass:"uni-easyinput__content-input",staticStyle:{"padding-left":"10px"},attrs:{type:"text",placeholder:t.otherPlaceholder},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOther.apply(void 0,arguments)}},model:{value:t.otherText,callback:function(e){t.otherText=e},expression:"otherText"}})],1)],1)],1):t._e()],2)],1)],1)]]:t._e()],2)},s=[]},"09f9":function(t,e,a){"use strict";var i=a("0338"),n=a.n(i);n.a},"127e":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 水平间距 */\r\n/* 水平间距 */\r\n/* 行为相关颜色 */\r\n/* 兼容 uni-ui 相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-data-checklist[data-v-0be47fce]{position:relative\r\n  /* min-height: 36px; */}.uni-data-loading[data-v-0be47fce]{display:flex;align-items:center;\r\n  /* justify-content: center; */height:36px;padding-left:10px}.checklist-group[data-v-0be47fce]{display:flex;flex-direction:row;flex-wrap:wrap}.checklist-box[data-v-0be47fce]{display:flex;flex-direction:row;align-items:center;margin:9px 0;margin-right:25px}.checklist-text[data-v-0be47fce]{font-size:14px;color:#333;margin-left:5px;transition:color .2s}.is-button[data-v-0be47fce]{margin-right:10px;padding:3px 15px;border:1px #dcdfe6 solid;border-radius:3px;transition:border-color .2s}.is-list[data-v-0be47fce]{flex-direction:column}.is-list-box[data-v-0be47fce]{display:flex;padding:10px 15px;padding-left:0;margin:0}.checklist-content[data-v-0be47fce]{display:flex;flex:1;flex-direction:row;align-items:center;justify-content:space-between}.list-content[data-v-0be47fce]{margin-left:5px}.is-list-multiple-box[data-v-0be47fce]{display:flex;padding:10px 15px;padding-left:0;margin:0}.is-list-border[data-v-0be47fce]{border-top:1px #eee solid}.is-tag[data-v-0be47fce]{margin-right:10px;padding:3px 10px;border:1px #eee solid;border-radius:3px;background-color:#f5f5f5\r\n  /* transition: border-color 0.1s; */}.is-tag-text[data-v-0be47fce]{margin:0;color:#666}.checkbox__inner[data-v-0be47fce]{flex-shrink:0;position:relative;border:1px solid #dcdfe6;border-radius:2px;box-sizing:border-box;width:16px;height:16px;background-color:#fff;z-index:1;transition:border-color .1s}.checkbox__inner-icon[data-v-0be47fce]{border:1px solid #fff;border-left:0;border-top:0;height:8px;left:5px;position:absolute;top:1px;width:3px;opacity:0;transition:transform .2s;transform-origin:center;transform:rotate(40deg) scaleY(.4)}.radio__inner[data-v-0be47fce]{flex-shrink:0;display:flex;justify-content:center;align-items:center;position:relative;border:1px solid #dcdfe6;border-radius:2px;box-sizing:border-box;width:16px;height:16px;border-radius:16px;background-color:#fff;z-index:1;transition:border-color .3s}.radio__inner-icon[data-v-0be47fce]{width:8px;height:8px;border-radius:10px;opacity:0;transition:transform .3s}.checkobx__list[data-v-0be47fce]{border:1px solid #fff;border-left:0;border-top:0;height:12px;width:6px;transform-origin:center;opacity:0;transition:all .3s;transform:rotate(45deg)}\r\n/* 禁用样式 */.is-default-disabled-bg[data-v-0be47fce]{background-color:#f2f6fc;border-color:#dcdfe6;cursor:not-allowed}.is-default-multiple-disabled-bg[data-v-0be47fce]{background-color:#f2f6fc;border-color:#dcdfe6;cursor:not-allowed}.is-default-disabled[data-v-0be47fce]{border-color:#f2f6fc}.is-default-multiple-disabled[data-v-0be47fce]{border-color:#f2f6fc}.is-list-disabled[data-v-0be47fce]{cursor:not-allowed;color:#999}.is-list-disabled-checked[data-v-0be47fce]{color:#a1dcc1}.is-button-disabled[data-v-0be47fce]{cursor:not-allowed;border-color:#ebeef5}.is-button-text-disabled[data-v-0be47fce]{color:#c0c4cc}.is-button-disabled-checked[data-v-0be47fce]{border-color:#a1dcc1}.is-tag-disabled[data-v-0be47fce]{cursor:not-allowed;border-color:#e9e9eb;background-color:#f4f4f5}.is-tag-text-disabled[data-v-0be47fce]{color:#bcbec2}\r\n/* 选中样式 */.is-default-checked-bg[data-v-0be47fce]{border-color:#007aff}.is-default-multiple-checked-bg[data-v-0be47fce]{border-color:#007aff;background-color:#007aff}.is-default-checked[data-v-0be47fce]{opacity:1;background-color:#007aff;transform:rotate(45deg) scaleY(1)}.is-default-multiple-checked[data-v-0be47fce]{opacity:1;transform:rotate(45deg) scaleY(1)}.is-default-disabled-checked-bg[data-v-0be47fce]{opacity:.4}.is-default-multiple-disabled-checked-bg[data-v-0be47fce]{opacity:.4}.is-default-checked-list[data-v-0be47fce]{border-color:#007aff;opacity:1;transform:rotate(45deg) scaleY(1)}.is-default-multiple-checked-list[data-v-0be47fce]{border-color:#007aff;opacity:1;transform:rotate(45deg) scaleY(1)}.is-list-disabled-checked[data-v-0be47fce]{opacity:.4}.is-default-disabled-checked-list[data-v-0be47fce]{opacity:.4}.is-default-multiple-disabled-checked-list[data-v-0be47fce]{opacity:.4}.is-button-checked[data-v-0be47fce]{border-color:#007aff}.is-button-disabled-checked[data-v-0be47fce]{opacity:.4}.is-list-checked[data-v-0be47fce]{color:#007aff}.is-tag-checked[data-v-0be47fce]{border-color:#007aff;background-color:#007aff}.is-tag-text-checked[data-v-0be47fce]{color:#fff}.is-tag-disabled-checked[data-v-0be47fce]{opacity:.4}.disabled-cursor[data-v-0be47fce]{cursor:not-allowed}.is-wrap[data-v-0be47fce]{flex-direction:column}.uni-easyinput[data-v-0be47fce]{width:100%;flex:1;position:relative;text-align:left;color:#333;font-size:14px}.uni-easyinput__content[data-v-0be47fce]{flex:1;width:100%;display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:36px}.uni-easyinput__content-input[data-v-0be47fce]{position:relative;overflow:hidden;flex:1;width:auto;line-height:2;font-size:14px}.is-textarea[data-v-0be47fce]{align-items:flex-start}.is-textarea-icon[data-v-0be47fce]{margin-top:5px}.uni-easyinput__content-textarea[data-v-0be47fce]{position:relative;overflow:hidden;flex:1;width:auto;line-height:1.5;font-size:14px;padding-top:6px;padding-bottom:10px;min-height:80px;height:80px}.input-padding[data-v-0be47fce]{padding-left:10px}.content-clear-icon[data-v-0be47fce]{padding:0 5px}.label-icon[data-v-0be47fce]{margin-right:5px;margin-top:-1px}.is-input-border[data-v-0be47fce]{display:flex;flex-direction:row;align-items:center;border:1px solid #c8c7cc;border-radius:4px;box-sizing:border-box}.is-required[data-v-0be47fce]{color:#e43d33}.uni-error-message[data-v-0be47fce]{position:absolute;bottom:-17px;left:0;line-height:12px;color:#e43d33;font-size:12px;text-align:left}.uni-error-msg--boeder[data-v-0be47fce]{position:relative;bottom:0;line-height:22px}.is-input-error-border[data-v-0be47fce]{border-color:#e43d33}.uni-easyinput--border[data-v-0be47fce]{margin-bottom:0;padding:10px 15px;border-top:1px #eee solid}.uni-easyinput-error[data-v-0be47fce]{padding-bottom:0}.is-first-border[data-v-0be47fce]{border:none}.is-disabled[data-v-0be47fce]{background-color:#eee}.more-list[data-v-0be47fce]{border-radius:8px;padding:%?10?% %?30?%;width:%?500?%;background-color:#fff;position:absolute;z-index:999;border:1px solid #ebebeb;max-height:%?620?%;min-height:%?100?%}.uni-datetime-picker-mask[data-v-0be47fce]{position:fixed;bottom:0;top:0;left:0;right:0;background-color:initial;transition-duration:.3s;z-index:998}',""]),t.exports=e},"205e":function(t,e,a){"use strict";var i=a("f41f"),n=a.n(i);n.a},"34fb":function(t,e,a){"use strict";a.r(e);var i=a("085f"),n=a("002c");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("205e");var r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"0be47fce",null,!1,i["a"],void 0);e["default"]=o.exports},"36e4":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 水平间距 */\r\n/* 水平间距 */\r\n/* 行为相关颜色 */\r\n/* 兼容 uni-ui 相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-app--showleftwindow .uni-container .uni-forms[data-v-244d31e9]{width:100%;max-width:100%}.uni-easyinput[data-v-244d31e9]{max-width:%?920?%}',""]),t.exports=e},"3baf":function(t,e,a){"use strict";var i=a("47f3"),n=a.n(i);n.a},"458f":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909"));a("a9e3"),a("14d9"),a("d3b7"),a("159b"),a("caad"),a("2532"),a("7db0"),a("99af"),a("e9c4"),a("c975"),a("4de4"),a("d81d");var s=i(a("4d4c")),r={name:"uniDataChecklist",mixins:[s.default],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return""}},otherValue:{type:[Array,String,Number],default:function(){return""}},extData:{type:String,default:function(){return""}},localdata:{type:Array,default:function(){return[]}},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!0},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},options:{type:[Object,Array],default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},orderby:{type:String,default:""},where:{type:[String,Object],default:""},getone:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},disabled:{type:[String,Boolean],default:!1},placeholder:{type:String,default:"请选择"},defaultResult:{type:String,default:"请选择"}},watch:{localdata:{handler:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t)),this.loading=!1},deep:!0},listData:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t)),this.loading=!1},value:function(t){this.dataList=this.getDataList(t),this.formItem&&this.formItem.setValue(t)},otherValue:function(t){this.otherText=t},defaultResult:function(t){this.result=t}},data:function(){return{active:!1,loading:!0,other:!1,otherText:"",otherPlaceholder:"",dataList:[],range:[],contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多"},result:"",styles:{selectedColor:"#007aff",selectedTextColor:"#333"}}},created:function(){this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.setValue(this.value),this.styles={selectedColor:this.selectedColor,selectedTextColor:this.selectedTextColor},this.otherText=this.otherValue,this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this)),this.localdata&&0!==this.localdata.length?(this.range=this.localdata,this.loading=!1,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.loading=!1,this.loadData()),this.placeholder&&(this.otherPlaceholder=this.placeholder),this.defaultResult&&!this.result&&(this.result=this.defaultResult)},methods:{init:function(t){},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e},chagne:function(t){var e=t.detail.value,a={value:[],data:[]};if(this.multiple)this.range.forEach((function(t){e.includes(t.value+"")&&(a.value.push(t.value),a.data.push(t))}));else{var i=this.range.find((function(t){return t.value+""===e}));i&&(a={value:i.value,data:i},this.active=!1)}this.formItem&&this.formItem.setValue(a.value),a.data&&a.data.is_other?this.changeOtherText(this.otherText):this.changeOtherText(!1),this.$emit("input",a.value),this.$emit("change",{detail:a}),this.multiple?this.dataList=this.getDataList(a.value,!0):this.dataList=this.getDataList(a.value)},getLabelClass:function(t,e){var a,i,s=[];switch(this.mode){case"default":t.disabled&&s.push("disabled-cursor");break;case"button":(a=s).push.apply(a,["is-button"].concat((0,n.default)(this.getClasses(t,"button"))));break;case"list":this.multiple?s.push("is-list-multiple-box"):s.push("is-list-box"),t.disabled&&s.push("is-list-disabled"),0!==e&&s.push("is-list-border");break;case"tag":(i=s).push.apply(i,["is-tag"].concat((0,n.default)(this.getClasses(t,"tag"))));break}return s=s.join(" "),s},getCheckboxClass:function(t){var e,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=[];this.multiple?(e=s).push.apply(e,(0,n.default)(this.getClasses(t,"default-multiple",i))):(a=s).push.apply(a,(0,n.default)(this.getClasses(t,"default",i)));return s=s.join(" "),s},getTextClass:function(t){var e,a,i,s,r=[];switch(this.mode){case"default":(e=r).push.apply(e,(0,n.default)(this.getClasses(t,"list")));break;case"button":(a=r).push.apply(a,(0,n.default)(this.getClasses(t,"list")));break;case"list":(i=r).push.apply(i,(0,n.default)(this.getClasses(t,"list")));break;case"tag":(s=r).push.apply(s,["is-tag-text"].concat((0,n.default)(this.getClasses(t,"tag-text"))));break}return r=r.join(" "),r},getDataList:function(t){var e=this,a=JSON.parse(JSON.stringify(this.range)),i=[];return this.multiple&&(Array.isArray(t)||(t=[])),this.other=!1,a.forEach((function(a,n){if(a.disabled=a.disable||a.disabled||e.disabled||!1,e.multiple)if(t.length>0){var s=t.find((function(t){return t===a.value}));a.selected=void 0!==s}else a.selected=!1;else a.selected=t===a.value;a.is_other&&(e.placeholder||(e.otherPlaceholder="请输入其他"+(a.memo?a.memo:"")),a.selected&&(e.other=!0)),e.extData&&a.ext_fields&&a.ext_fields.indexOf(e.extData)>-1||i.push(a)})),this.setRange(i)},setRange:function(t){var e=this,a=t.filter((function(t){return t.selected})),i=Number(this.min)||0,n=Number(this.max)||"";return t.forEach((function(s,r){if(e.multiple){if(a.length<=i){var o=a.find((function(t){return t.value===s.value}));void 0!==o&&(s.disabled=!0)}if(a.length>=n&&""!==n){var l=a.find((function(t){return t.value===s.value}));void 0===l&&(s.disabled=!0)}}e.setClass(s,r),t[r]=s})),this.result=a.map((function(t){return t.text})).join("、"),t},setClass:function(t,e){t.labelClass=this.getLabelClass(t,e),t.checkboxBgClass=this.getCheckboxClass(t,"-bg"),t.checkboxClass=this.getCheckboxClass(t),t.textClass=this.getTextClass(t),t.listClass=this.getCheckboxClass(t,"-list"),t.styleBackgroud=this.setStyleBackgroud(t),t.styleIcon=this.setStyleIcon(t),t.styleIconText=this.setStyleIconText(t),t.styleRightIcon=this.setStyleRightIcon(t)},getClasses:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=[];return t.disabled&&i.push("is-"+e+"-disabled"+a),t.selected&&i.push("is-"+e+"-checked"+a),"button"===this.mode&&"button"!==e||t.selected&&t.disabled&&i.push("is-"+e+"-disabled-checked"+a),i},getSelectedValue:function(t){if(!this.multiple)return this.value;var e=[];return t.forEach((function(t){t.selected&&e.push(t.value)})),this.value.length>0?this.value:e},setStyleBackgroud:function(t){var e={};return t.selected&&("list"!==this.mode&&(e.borderColor=this.styles.selectedColor),"tag"===this.mode&&(e.backgroundColor=this.styles.selectedColor)),e},setStyleIcon:function(t){var e={};return t.selected&&(e.backgroundColor=this.styles.selectedColor,e.borderColor=this.styles.selectedColor),e},setStyleIconText:function(t){var e={};return t.selected&&(this.styles.selectedTextColor?e.color=this.styles.selectedTextColor:"tag"===this.mode?e.color="#fff":e.color=this.styles.selectedColor),e},setStyleRightIcon:function(t){var e={};return t.selected&&"list"===this.mode&&(e.borderColor=this.styles.selectedColor),e},changeOther:function(){this.changeOtherText(this.otherText)},changeOtherText:function(t){this.formItem&&this.formItem.name&&(t?this.form.formData[this.formItem.name+"_other"]=t:delete this.form.formData[this.formItem.name+"_other"]),t&&this.$emit("otherInput",t)},activeChange:function(t){var e=this;setTimeout((function(){e.active=t}),100)}}};e.default=r},"47f3":function(t,e,a){var i=a("02e6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("197efaa0",i,!0,{sourceMap:!1,shadowMode:!1})},"4d4c":function(t,e,a){"use strict";(function(t){a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909")),s=i(a("53ca"));a("d3b7"),a("14d9"),a("a434"),a("ac1f"),a("e9c4"),a("b64b"),a("fb6a"),a("c975");var r={load:"load",error:"error"},o={add:"add",replace:"replace"},l=["pageCurrent","pageSize","collection","action","field","getcount","orderby","where"],c={data:function(){return{loading:!1,listData:this.getone?{}:[],paginationInternal:{current:this.pageCurrent,size:this.pageSize,count:0},errorMessage:""}},created:function(){var e=this;this.collection&&(this.db=t.database(),this.dbCmd=this.db.command),this._isEnded=!1,this.$watch((function(){var t=[];return l.forEach((function(a){t.push(e[a])})),t}),(function(t,a){e.paginationInternal.pageSize=e.pageSize;for(var i=!1,n=2;n<t.length;n++)if(t[n]!=a[n]){i=!0;break}i&&(e.clear(),e.reset()),t[0]!=a[0]&&(e.paginationInternal.current=e.pageCurrent),e._execLoadData()}))},beforeDestroy:function(){},methods:{loadData:function(t,e){var a=null;"object"===(0,s.default)(t)?(t.clear&&(this.clear(),this.reset()),void 0!==t.current&&(this.paginationInternal.current=t.current),"function"===typeof e&&(a=e)):"function"===typeof t&&(a=t),this._execLoadData(a)},loadMore:function(){this._isEnded||this._execLoadData()},refresh:function(){this.clear(),this._execLoadData()},clear:function(){this._isEnded=!1,this.listData=[]},reset:function(){this.paginationInternal.current=1},remove:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.action,n=a.callback,s=a.confirmTitle,r=a.confirmContent;t&&t.length&&uni.showModal({title:s||"提示",content:r||"是否删除该数据",showCancel:!0,success:function(a){a.confirm&&e._execRemove(t,i,n)}})},_execLoadData:function(t){var e=this;this.loading||(this.loading=!0,this.errorMessage="",this._getExec().then((function(a){e.loading=!1;var i=a.result,s=i.data,l=i.count;if(e._isEnded=s.length<e.pageSize,t&&t(s,e._isEnded),e._dispatchEvent(r.load,s),e.getone)e.listData=s.length?s[0]:void 0;else if(e.pageData===o.add){var c;(c=e.listData).push.apply(c,(0,n.default)(s)),e.listData.length&&e.paginationInternal.current++}else e.pageData===o.replace&&(e.listData=s,e.paginationInternal.count=l)})).catch((function(a){e.loading=!1,e.errorMessage=a,t&&t(),e.$emit(r.error,a)})))},_getExec:function(){var t=this.db;this.action&&(t=t.action(this.action)),t=t.collection(this.collection),this.where&&Object.keys(this.where).length&&(t=t.where(this.where)),this.field&&(t=t.field(this.field)),this.orderby&&(t=t.orderBy(this.orderby));var e=this.paginationInternal,a=e.current,i=e.size;return t=t.skip(i*(a-1)).limit(i).get({getCount:this.getcount}),t},_execRemove:function(t,e,a){var i=this;if(this.collection&&t){var n=Array.isArray(t)?t:[t];if(n.length){uni.showLoading({mask:!0});var s=this.db;e&&(s=s.action(e)),s.collection(this.collection).where({_id:dbCmd.in(n)}).remove().then((function(t){a&&a(t.result),i.pageData===o.replace?i.refresh():i.removeData(n)})).catch((function(t){uni.showModal({content:t.message,showCancel:!1})})).finally((function(){uni.hideLoading()}))}}},removeData:function(t){for(var e=t.slice(0),a=this.listData,i=a.length-1;i>=0;i--){var n=e.indexOf(a[i]._id);n>=0&&(a.splice(i,1),e.splice(n,1))}},_dispatchEvent:function(t,e){this._changeDataFunction?this._changeDataFunction(e,this._isEnded):this.$emit(t,e,this._isEnded)}}};e.default=c}).call(this,a("a9ff")["default"])},"4fb2":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 水平间距 */\r\n/* 水平间距 */\r\n/* 行为相关颜色 */\r\n/* 兼容 uni-ui 相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-0296a6cf] {\r\n  /* 菜单图标字体颜色 */\r\n  /* 选中项图标为白色 */\r\n  /* 背景颜色图标 */\r\n  /* 字体颜色图标 */}[data-v-0296a6cf] .tinymce-container{position:relative;line-height:normal}[data-v-0296a6cf] .tinymce-container > > > .mce-fullscreen{z-index:10000}[data-v-0296a6cf] .tinymce-textarea{visibility:hidden;z-index:-1}[data-v-0296a6cf] .editor-custom-btn-container{position:absolute;right:4px;top:4px\r\n  /*z-index: 2005;*/}[data-v-0296a6cf] .fullscreen .editor-custom-btn-container{z-index:10000;position:fixed}[data-v-0296a6cf] .editor-upload-btn{display:inline-block}[data-v-0296a6cf] .mce-tinymce{box-shadow:0 1px 2px transparent!important;border-color:#dcdfe6!important}[data-v-0296a6cf] .mce-top-part::before{box-shadow:0 1px 2px transparent!important}[data-v-0296a6cf] .mce-edit-area{border-color:#dcdfe6!important}[data-v-0296a6cf] .mce-edit-area iframe{opacity:0}[data-v-0296a6cf] .mce-statusbar{border-color:#dcdfe6!important}[data-v-0296a6cf] #mceu_27{border-radius:5px;overflow:hidden}[data-v-0296a6cf] .mce-ico{color:#7e8086!important}[data-v-0296a6cf] .mce-btn.mce-active i{color:#fff!important}[data-v-0296a6cf] i.mce-i-backcolor{color:#fff!important;background-color:#ff944c!important}[data-v-0296a6cf] i.mce-i-forecolor{color:#ff944c!important;transform:scale(1.1)}.loaded[data-v-0296a6cf] iframe{opacity:1}',""]),t.exports=e},"62c6":function(t,e,a){"use strict";a.r(e);var i=a("0753"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6ebc":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={user_id:{rules:[{required:!0},{format:"string"}],defaultValue:{$env:"uid"}},category_id:{rules:[{format:"string"}]},title:{rules:[{required:!0},{format:"string"}],label:"标题"},content:{rules:[{required:!0},{format:"string"}],label:"文章内容"},excerpt:{rules:[{format:"string"}],label:"摘要"},article_status:{rules:[{required:!0},{format:"int"},{minimum:0,maximum:1}]},view_count:{rules:[{required:!0},{format:"int"}]},like_count:{rules:[{required:!0},{format:"int"}]},is_sticky:{rules:[{required:!0},{format:"int"}]},is_essence:{rules:[{required:!0},{format:"int"}]},comment_status:{rules:[{required:!0},{format:"int"},{minimum:0,maximum:1}]},comment_count:{rules:[{required:!0},{format:"int"}]},last_comment_user_id:{rules:[{format:"string"}]},avatar:{rules:[{format:"string"}],label:"封面大图"},publish_date:{rules:[{format:"timestamp"}],defaultValue:{$env:"now"}},publish_ip:{rules:[{format:"string"}]},last_modify_date:{rules:[{format:"timestamp"}]},last_modify_ip:{rules:[{format:"string"}]},mode:{rules:[{required:!0},{format:"number"}]}}},"6f20":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={uniForms:a("f6fa").default,uniFormsItem:a("e1c2").default,uniEasyinput:a("6e84").default,cloudImage:a("867e").default,uniDataCheckbox:a("10fb").default,cloudUserSelect:a("92e4").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-container"},[a("uni-forms",{ref:"form",attrs:{validateTrigger:"bind"},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[a("uni-forms-item",{attrs:{name:"title",label:"标题"}},[a("uni-easyinput",{attrs:{placeholder:"标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("uni-forms-item",{attrs:{name:"avatar",label:"封面大图"}},[a("cloud-image",{attrs:{placeholder:"缩略图地址"},model:{value:t.formData.avatar,callback:function(e){t.$set(t.formData,"avatar",e)},expression:"formData.avatar"}})],1),a("uni-forms-item",{attrs:{name:"category_id",label:"分类"}},[a("uni-data-checkbox",{attrs:{collection:"opendb-news-categories",field:"name as text, _id as value"},model:{value:t.formData.category_id,callback:function(e){t.$set(t.formData,"category_id",e)},expression:"formData.category_id"}})],1),a("uni-forms-item",{attrs:{name:"excerpt",label:"摘要"}},[a("uni-easyinput",{attrs:{placeholder:"文章摘录"},model:{value:t.formData.excerpt,callback:function(e){t.$set(t.formData,"excerpt",e)},expression:"formData.excerpt"}})],1),t.formData.content?a("uni-forms-item",{attrs:{name:"content",label:"文章内容"}},[a("Tinymce",{ref:"editor",attrs:{width:860,height:400},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1):t._e(),a("uni-forms-item",{attrs:{name:"user_id",label:"上传用户"}},[a("cloud-user-select",{attrs:{condition:"nickname!=null"},model:{value:t.formData.user_id,callback:function(e){t.$set(t.formData,"user_id",e)},expression:"formData.user_id"}})],1),a("uni-forms-item",{attrs:{name:"source_from",label:"来源"}},[a("uni-easyinput",{attrs:{placeholder:"请输入完整来源信息"},model:{value:t.formData.source_from,callback:function(e){t.$set(t.formData,"source_from",e)},expression:"formData.source_from"}})],1),a("uni-forms-item",{attrs:{name:"mode",label:"显示模式"}},[a("uni-easyinput",{attrs:{placeholder:"显示模式",type:"number"},model:{value:t.formData.mode,callback:function(e){t.$set(t.formData,"mode",e)},expression:"formData.mode"}})],1),a("uni-forms-item",{attrs:{name:"view_count",label:"阅读数量"}},[a("uni-easyinput",{attrs:{placeholder:"阅读数量",type:"number"},model:{value:t.formData.view_count,callback:function(e){t.$set(t.formData,"view_count",e)},expression:"formData.view_count"}})],1),a("uni-forms-item",{attrs:{name:"like_count",label:"点赞数"}},[a("uni-easyinput",{attrs:{placeholder:"喜欢数、点赞数",type:"number"},model:{value:t.formData.like_count,callback:function(e){t.$set(t.formData,"like_count",e)},expression:"formData.like_count"}})],1),a("uni-forms-item",{attrs:{name:"comment_count",label:"评论数"}},[a("uni-easyinput",{attrs:{placeholder:"评论数",type:"number"},model:{value:t.formData.comment_count,callback:function(e){t.$set(t.formData,"comment_count",e)},expression:"formData.comment_count"}})],1),a("uni-forms-item",{attrs:{name:"article_status",label:"发布"}},[a("uni-data-checkbox",{attrs:{localdata:t.formOptions.status},model:{value:t.formData.article_status,callback:function(e){t.$set(t.formData,"article_status",e)},expression:"formData.article_status"}})],1),a("uni-forms-item",{attrs:{name:"is_sticky",label:"是否置顶"}},[a("uni-data-checkbox",{attrs:{localdata:t.formOptions.checks},model:{value:t.formData.is_sticky,callback:function(e){t.$set(t.formData,"is_sticky",e)},expression:"formData.is_sticky"}})],1),a("uni-forms-item",{attrs:{name:"is_essence",label:"是否加精"}},[a("uni-data-checkbox",{attrs:{localdata:t.formOptions.checks},model:{value:t.formData.is_essence,callback:function(e){t.$set(t.formData,"is_essence",e)},expression:"formData.is_essence"}})],1),a("uni-forms-item",{attrs:{name:"comment_status",label:"开放评论"}},[a("uni-data-checkbox",{attrs:{localdata:t.formOptions.status},model:{value:t.formData.comment_status,callback:function(e){t.$set(t.formData,"comment_status",e)},expression:"formData.comment_status"}})],1),a("v-uni-view",{staticClass:"uni-button-group"},[a("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")]),a("v-uni-navigator",{staticStyle:{"margin-left":"15px"},attrs:{"open-type":"navigateBack"}},[a("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"}},[t._v("返回")])],1)],1)],1)],1)},s=[]},"70b6":function(t,e,a){"use strict";a.r(e);var i=a("c3f0"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"7cf6":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container",class:{fullscreen:this.fullscreen,loaded:this.loaded},style:{width:this.containerWidth}},[e("v-uni-textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}})],1)},n=[]},"867e":function(t,e,a){"use strict";a.r(e);var i=a("0645"),n=a("70b6");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("3baf");var r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"4e784e7f",null,!1,i["a"],void 0);e["default"]=o.exports},"8e92":function(t,e,a){"use strict";(function(t){a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={data:function(){return{uid:"",nickname:""}},watch:{uid:function(t){this.value!=t&&this.$emit("input",t)},value:function(t){this.uid=this.value,this.loadData()}},props:{value:{type:[Array,String,Number],default:function(){return""}},condition:{type:String,default:""}},created:function(){this.uid=this.value},methods:{change:function(t){t&&t.data&&(this.nickname=t.data.text)},loadData:function(){var e=this;this.uid&&!this.nickname&&t.database().collection("uni-id-users").field("nickname").where({_id:this.uid}).get({getOne:!0}).then((function(t){t.result&&t.result.data&&(e.nickname=t.result.data.nickname)}))}}};e.default=i}).call(this,a("a9ff")["default"])},"8fe6":function(t,e,a){"use strict";a.r(e);var i=a("6f20"),n=a("db57");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9069");var r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"244d31e9",null,!1,i["a"],void 0);e["default"]=o.exports},9069:function(t,e,a){"use strict";var i=a("d220"),n=a.n(i);n.a},"92e4":function(t,e,a){"use strict";a.r(e);var i=a("a260"),n=a("d5c9");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"02d6d86c",null,!1,i["a"],void 0);e["default"]=o.exports},a260:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={cloudSelect:a("34fb").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("cloud-select",{attrs:{defaultResult:t.nickname,collection:"uni-id-users",where:t.condition?t.condition:"",field:"_id as value, nickname as text",pageSize:50},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}})],1)},s=[]},ba18:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=["bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript","hr bullist numlist image table forecolor backcolor code preview fullscreen"];e.default=i},c3f0:function(t,e,a){"use strict";(function(t){a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("53ca"));a("a9e3"),a("14d9"),a("99af"),a("a434"),a("d81d"),a("c975"),a("d3b7"),a("3ca3"),a("ddb0");var s={name:"cloud-image",data:function(){return{val:"",srcList:[]}},props:{name:{type:String,default:"image"},title:{type:String,default:""},tips:{type:[String,Number],default:""},value:[Number,String,Array],suffixIcon:{type:String,default:"plusempty"},imageNumber:{type:Number,default:1},size:{type:String,default:""},iconSize:{type:Number,default:50},isWrap:{type:Boolean,default:!1},isHold:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{value:function(t){"object"==(0,n.default)(t)&&t?this.srcList=t:this.val=t,this.formItem&&this.formItem.setValue(t)}},computed:{isShowIcon:function(){return!this.disabled&&(!!this.suffixIcon&&(!!this.isHold||(this.imageNumber>1?this.imageNumber-this.srcList.length>0:!this.val)))},imageSizeStyle:function(){if(this.size){var t=this.size.split("x");return 1==t.length&&t.push(t[0]),"width:".concat(t[0],"rpx;height:").concat(t[1],"rpx;")}return""}},created:function(){"object"==(0,n.default)(this.value)&&this.value?this.srcList=this.value:this.val=this.value,this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{init:function(){},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e},uploadCallback:function(t){1==this.imageNumber?(this.val=t[0],this.$emit("input",this.val)):(this.srcList=this.srcList.concat(t),this.$emit("input",this.srcList))},del:function(t){1==this.imageNumber?(this.val="",this.$emit("input",this.val)):(this.srcList.splice(t,1),this.$emit("input",this.srcList))},previewImage:function(t){uni.previewImage({current:t,urls:this.srcList})},upload:function(){var e=this;if(this.disabled)return this.previewImage(0),!1;new Date;uni.chooseImage({count:this.imageNumber-this.srcList.length,success:function(a){var i=[];uni.showLoading({title:"图片上传中"}),a.tempFilePaths.map((function(n,s){var r=["jpg"];a.tempFiles[s].name&&a.tempFiles[s].name.indexOf(".")>0?r=a.tempFiles[s].name.split("."):a.tempFiles[s].path&&a.tempFiles[s].path.indexOf(".")>0&&(r=a.tempFiles[s].path.split("."));var o=(Math.random()+"").substr(2)+"."+r[r.length-1],l=e.name+"/"+o,c=function(e,a,i){return new Promise((function(i,n){t.uploadFile({filePath:e,cloudPath:a,onUploadProgress:function(t){},success:function(e){-1!=e.fileID.indexOf("cloud://")?t.getTempFileURL({fileList:[e.fileID]}).then((function(t){i(t.fileList[0].tempFileURL)})):setTimeout((function(){i(e.fileID)}),200)},fail:function(){n(!1)}})}))}(n,l);i.push(c)})),Promise.all(i).then((function(t){uni.hideLoading(),e.uploadCallback(t)}))}})}}};e.default=s}).call(this,a("a9ff")["default"])},cd6a:function(t,e,a){"use strict";(function(t){a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("caad"),a("2532"),a("d3b7");var s=i(a("6ebc")),r=i(a("867e")),o=i(a("92e4")),l=i(a("eb6a")),c=t.database();c.command;function u(t){var e={};for(var a in s.default)t.includes(a)&&(e[a]=s.default[a]);return e}var d={components:{Tinymce:l.default,cloudImage:r.default,cloudUserSelect:o.default},data:function(){return{formData:{user_id:"",category_id:"",title:"",content:"",excerpt:"",source_from:"",article_status:null,view_count:null,like_count:null,is_sticky:null,is_essence:null,comment_status:null,comment_count:null,last_comment_user_id:"",avatar:"",publish_date:null,publish_ip:"",last_modify_date:null,last_modify_ip:"",mode:null},formOptions:{status:[{value:1,text:"是"},{value:0,text:"否"}],checks:[{value:1,text:"是"},{value:0,text:"否"}]},rules:(0,n.default)({},u(["user_id","title","content","excerpt","article_status","comment_status","last_comment_user_id","avatar","publish_date","last_modify_date","last_modify_ip","mode","category_id","comment_count","is_essence","is_sticky","view_count","like_count","publish_ip"]))}},onLoad:function(t){var e=t.id;this.formDataId=e,this.getDetail(e)},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){e.last_modify_date=Date.now(),e.last_modify_ip=c.env.clientIP,t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;c.collection("opendb-news-articles").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"修改成功"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),c.collection("opendb-news-articles").doc(t).field("user_id,title,content,excerpt,article_status,comment_status,last_comment_user_id,avatar,publish_date,last_modify_date,mode,category_id,comment_count,is_essence,is_sticky,view_count,like_count").get().then((function(t){var a=t.result.data[0];a&&(e.formData=a)})).catch((function(t){uni.showModal({content:t.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=d}).call(this,a("a9ff")["default"])},d220:function(t,e,a){var i=a("36e4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("7be9196a",i,!0,{sourceMap:!1,shadowMode:!1})},d5c9:function(t,e,a){"use strict";a.r(e);var i=a("8e92"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},db57:function(t,e,a){"use strict";a.r(e);var i=a("cd6a"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},eb6a:function(t,e,a){"use strict";a.r(e);var i=a("7cf6"),n=a("62c6");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("09f9");var r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"0296a6cf",null,!1,i["a"],void 0);e["default"]=o.exports},f0c1:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=["\n    advlist\n    autolink\n    autosave\n    code\n    codesample\n    colorpicker\n    colorpicker\n    contextmenu\n    directionality\n    emoticons\n    fullscreen\n    hr\n    image\n    imagetools\n    insertdatetime\n    lists\n    media\n    nonbreaking\n    noneditable\n    paste\n    preview\n    print\n    save\n    searchreplace\n    tabfocus\n    table\n    textcolor\n    textpattern\n    visualblocks\n    visualchars\n    wordcount\n    "];e.default=i},f41f:function(t,e,a){var i=a("127e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("24e8eee8",i,!0,{sourceMap:!1,shadowMode:!1})},f460:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b85c"));a("14d9"),a("d9e2"),a("d401");var s=[];var r=function(t,e){var a=document.getElementById(t),i=e||function(){};if(!a){var r=document.createElement("script");r.src=t,r.id=t,document.body.appendChild(r),s.push(i);var o="onload"in r?function(e){e.onload=function(){this.onerror=this.onload=null;var t,a=(0,n.default)(s);try{for(a.s();!(t=a.n()).done;){var i=t.value;i(null,e)}}catch(r){a.e(r)}finally{a.f()}s=null},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+t),e)}}:function(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,a=(0,n.default)(s);try{for(a.s();!(e=a.n()).done;){var i=e.value;i(null,t)}}catch(r){a.e(r)}finally{a.f()}s=null}}};o(r)}a&&i&&(!function(){return window.tinymce}()?s.push(i):i(null,a))};e.default=r}}]);