(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-myou-img-apis-edit"],{"570e":function(a,t,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.enumConverter=void 0,t.filterToWhere=function(a,t){var e={};for(var n in a){var o=a[n],u=o.type,s=o.value;switch(u){case"search":"string"===typeof s&&s.length&&(e[n]=new RegExp(s));break;case"select":if(s.length){var l,m=[],c=(0,r.default)(s);try{for(c.s();!(l=c.n()).done;){var f=l.value;m.push(t.eq(f))}}catch(_){c.e(_)}finally{c.f()}e[n]=t.or(m)}break;case"range":if(s.length){var d=s[0],p=s[1];e[n]=t.and([t.gte(d),t.lte(p)])}break;case"date":if(s.length){var v=(0,i.default)(s,2),b=v[0],g=v[1],h=new Date(b),y=new Date(g);e[n]=t.and([t.gte(h),t.lte(y)])}break;case"timestamp":if(s.length){var D=(0,i.default)(s,2),k=D[0],w=D[1];e[n]=t.and([t.gte(k),t.lte(w)])}break}}return e},t.validator=void 0;var i=n(e("3835")),r=n(e("b85c"));e("4d63"),e("c607"),e("ac1f"),e("2c3e"),e("25f0"),e("14d9");t.validator={category_name:{rules:[{format:"string"}],label:"分类"},name:{rules:[{format:"string"}],label:"名称"},api:{rules:[{format:"string"}],label:"api地址"},status:{rules:[{format:"bool"}],label:"状态"},code:{rules:[{format:"int"}],defaultValue:200,label:"成功状态码"},img_param:{rules:[{format:"string"}],label:"图片属性名"},params:{rules:[{format:"string"}],label:"参数"},time:{rules:[{format:"timestamp"}],defaultValue:{$env:"now"}}};t.enumConverter={}},"85c7":function(a,t,e){"use strict";e.r(t);var n=e("c87b"),i=e.n(n);for(var r in n)["default"].indexOf(r)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(r);t["default"]=i.a},b9cf:function(a,t,e){"use strict";e.r(t);var n=e("e436"),i=e("85c7");for(var r in i)["default"].indexOf(r)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(r);var o=e("f0c5"),u=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=u.exports},c87b:function(a,t,e){"use strict";(function(a){e("7a82");var n=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(e("5530"));e("caad"),e("2532"),e("b64b"),e("d3b7");var r=e("570e"),o=a.database();o.command;function u(a){var t={};for(var e in r.validator)a.includes(e)&&(t[e]=r.validator[e]);return t}var s={data:function(){var a={category_name:"",name:"",api:"",status:null,code:200,img_param:"",params:"",time:null};return{formData:a,formOptions:{},rules:(0,i.default)({},u(Object.keys(a)))}},onLoad:function(a){if(a.id){var t=a.id;this.formDataId=t,this.getDetail(t)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var a=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(t){return a.submitForm(t)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(a){var t=this;return o.collection("myou-img-apis").doc(this.formDataId).update(a).then((function(a){uni.showToast({title:"修改成功"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(a){uni.showModal({content:a.message||"请求服务失败",showCancel:!1})}))},getDetail:function(a){var t=this;uni.showLoading({mask:!0}),o.collection("myou-img-apis").doc(a).field("category_name,name,api,status,code,img_param,params,time").get().then((function(a){var e=a.result.data[0];e&&(t.formData=e)})).catch((function(a){uni.showModal({content:a.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};t.default=s}).call(this,e("a9ff")["default"])},e436:function(a,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){return n}));var n={uniForms:e("f6fa").default,uniFormsItem:e("e1c2").default,uniDataPicker:e("1756").default,uniEasyinput:e("6e84").default,uniDatetimePicker:e("efa7").default},i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"uni-container"},[e("uni-forms",{ref:"form",attrs:{model:a.formData,validateTrigger:"bind"}},[e("uni-forms-item",{attrs:{name:"category_name",label:"分类"}},[e("uni-data-picker",{attrs:{collection:"myou-img-category",field:" name as text,_id as value"},model:{value:a.formData.category_name,callback:function(t){a.$set(a.formData,"category_name",t)},expression:"formData.category_name"}})],1),e("uni-forms-item",{attrs:{name:"name",label:"名称"}},[e("uni-easyinput",{attrs:{placeholder:"名称"},model:{value:a.formData.name,callback:function(t){a.$set(a.formData,"name",t)},expression:"formData.name"}})],1),e("uni-forms-item",{attrs:{name:"api",label:"api地址"}},[e("uni-easyinput",{attrs:{placeholder:"api地址"},model:{value:a.formData.api,callback:function(t){a.$set(a.formData,"api",t)},expression:"formData.api"}})],1),e("uni-forms-item",{attrs:{name:"status",label:"状态"}},[e("v-uni-switch",{attrs:{checked:a.formData.status},on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.binddata("status",t.detail.value)}}})],1),e("uni-forms-item",{attrs:{name:"code",label:"成功状态码"}},[e("uni-easyinput",{attrs:{placeholder:"接口返回状态码",type:"number"},model:{value:a.formData.code,callback:function(t){a.$set(a.formData,"code",t)},expression:"formData.code"}})],1),e("uni-forms-item",{attrs:{name:"img_param",label:"图片属性名"}},[e("uni-easyinput",{attrs:{placeholder:"接口返回的图片属性"},model:{value:a.formData.img_param,callback:function(t){a.$set(a.formData,"img_param",t)},expression:"formData.img_param"}})],1),e("uni-forms-item",{attrs:{name:"params",label:"参数"}},[e("uni-easyinput",{attrs:{placeholder:"参数，多个参数逗号隔开"},model:{value:a.formData.params,callback:function(t){a.$set(a.formData,"params",t)},expression:"formData.params"}})],1),e("uni-forms-item",{attrs:{name:"time",label:""}},[e("uni-datetime-picker",{attrs:{"return-type":"timestamp"},model:{value:a.formData.time,callback:function(t){a.$set(a.formData,"time",t)},expression:"formData.time"}})],1),e("v-uni-view",{staticClass:"uni-button-group"},[e("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.submit.apply(void 0,arguments)}}},[a._v("提交")]),e("v-uni-navigator",{staticStyle:{"margin-left":"15px"},attrs:{"open-type":"navigateBack"}},[e("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"}},[a._v("返回")])],1)],1)],1)],1)},r=[]}}]);